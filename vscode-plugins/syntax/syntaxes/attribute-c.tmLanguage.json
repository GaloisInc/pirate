{
	"scopeName": "pirate-attribute-c.injection",
	"injectionSelector": "L:source.c",
	"patterns": [{ "include": "#capability-attr" }],
	"repository": {
		"capability-attr": {
			"begin": "__attribute__(\\(\\()",
			"beginCaptures": {
				"1": { "name": "punctuation.section.attribute.begin.c" }
			},
			"end": "\\)\\)$",
			"endCaptures": {
				"0": { "name": "punctuation.section.attribute.end.c" }
			},
			"name": "support.other.attribute.c",
			"patterns": [
        { "include": "#pirate-capability" },
        { "include": "#pirate-enclave-main" }
        { "include": "#pirate-enclave-only" }
			]
    },
    "pirate-enclave-main": {
      "begin": "pirate_enclave_main(\\()",
      "beginCaptures": {
        "1": { "name": "punctuation.section.attribute.begin.c" }
      },
      "end": "\\)",
      "endCaptures": {
        "0": { "name": "punctuation.section.attribute.end.c" }
      },
      "name": "entity.name.function.preprocessor.c",
      "patterns": [
        { "include": "#ident"}
      ]
    },
    "pirate-enclave-only": {
      "begin": "pirate_enclave_only(\\()",
      "beginCaptures": {
        "1": { "name": "punctuation.section.attribute.begin.c" }
      },
      "end": "\\)",
      "endCaptures": {
        "0": { "name": "punctuation.section.attribute.end.c" }
      },
      "name": "entity.name.function.preprocessor.c",
      "patterns": [
        { "include": "#ident"}
      ]
    },
		"pirate-capability": {
			"begin": "pirate_capability(\\()",
			"beginCaptures": {
				"1": { "name": "punctuation.section.attribute.begin.c" }
			},
			"end": "\\)",
			"endCaptures": {
				"0": { "name": "punctuation.section.attribute.end.c" }
			},
			"name": "entity.name.function.preprocessor.c",
			"patterns": [
				{ "include": "#ident" }
			]
		},
    "ident": {
      "match": "(\\p{Alnum}+)",
			"captures": {
				"1": {
					"name": "entity.name.function.preprocessor.c"
				}
			}
    }
	}
}
