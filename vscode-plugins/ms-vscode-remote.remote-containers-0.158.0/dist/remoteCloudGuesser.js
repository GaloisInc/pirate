!function(t,e){for(var r in e)t[r]=e[r];e.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})}(exports,(()=>{"use strict";var t={5087:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});const a=r(8605);var n;!function(t){t.Azure="azure",t.AWS="aws",t.DigitalOcean="digitalocean",t.GCP="gcp"}(n||(n={}));const o=[{id:n.Azure,url:"http://169.254.169.254/metadata/instance?api-version=2019-03-11",headers:{Metadata:"true"},match:/azEnvironment/},{id:n.DigitalOcean,url:"http://169.254.169.254/metadata/v1/id",match:/^\d{9}/},{id:n.AWS,url:"http://169.254.169.254/latest/meta-data/instance-id",match:/^i-[0-9a-f]{8}/},{id:n.GCP,url:"http://metadata.google.internal/computeMetadata/v1/instance/id",headers:{"Metadata-Flavor":"Google"},match:/^\d{10}/}];(async function(){let t;const e=new Promise((e=>t=e));return Promise.race([Promise.all(o.map((({id:r,url:n,headers:o,match:s})=>async function(t,e,r){return new Promise(((n,o)=>{const s=a.get(t,{headers:e},(t=>{if(t.statusCode<200||t.statusCode>299)return t.destroy(),o(new Error(`Status ${t.statusCode}`));const e=[];t.on("data",(t=>e.push(t))),t.on("end",(()=>n(Buffer.concat(e).toString("utf8")))),t.on("error",o)}));s.on("error",o),r.then((()=>s.abort()))}))}(n,o,e).then((e=>{s.test(e)&&t(r)}),(t=>{}))))),new Promise((t=>setTimeout(t,7e3).unref()))]).then((()=>t())),e})().then((t=>console.log(t||"")))},8605:t=>{t.exports=require("http")}},e={};return function r(a){if(e[a])return e[a].exports;var n=e[a]={exports:{}};return t[a](n,n.exports,r),n.exports}(5087)})());
//# sourceMappingURL=remoteCloudGuesser.js.map